@model Covid19ManagementSystem.Models.Person

<h2>Add Member Page</h2>

<form id="add-member-form" method="post" action="">
    <div>
        <label for="FirstName">First Name:</label>
        <input type="text" id="FirstName" name="FirstName" required>
    </div>

    <div>
        <label for="LastName">Last Name:</label>
        <input type="text" id="LastName" name="LastName" required>
    </div>

    <div>
        <label for="ID">ID:</label>
        <input type="text" id="ID" name="ID" pattern="[0-9]" required>
    </div>

    <div>
        <label for="BirthDate">Birth Date:</label>
        <input type="date" id="BirthDate" name="BirthDate" required>
    </div>

    <div>
        <label for="Telephone">Telephone:</label>
        <input type="tel" id="Telephone" name="Telephone" pattern="[0-9]+" required>
    </div>

    <div>
        <label for="MobilePhone">Mobile Phone:</label>
        <input type="tel" id="MobilePhone" name="MobilePhone" pattern="[0-9]+" required>
    </div>

    <div>
        <label for="City">City:</label>
        <input type="text" id="City" name="City" required>
    </div>

    <div>
        <label for="Street">Street:</label>
        <input type="text" id="Street" name="Street" required>
    </div>

    <div>
        <label for="NumberStreet">Number Street:</label>
        <input type="text" id="NumberStreet" name="NumberStreet" pattern="[0-9]+" required>
    </div>

    <div>
        <label for="ImageFile">Adding a picture:</label>
        <input type="file" id="ImageFile" name="ImageFile">
    </div>

    <button type="submit" value="Add Member">Add Member</button>
</form>
@section Scripts {
    <script>
        $(function() {
            $('#add-member-form').submit(function(e) {
                e.preventDefault();

                // Create an object to hold the form data
                var formData = {
                    FirstName: $('#FirstName').val(),
                    LastName: $('#LastName').val(),
                    ID: $('#ID').val(),
                    BirthDate: $('#BirthDate').val(),
                    Telephone: $('#Telephone').val(),
                    MobilePhone: $('#MobilePhone').val(),
                    City: $('#City').val(),
                    Street: $('#Street').val(),
                    NumberStreet: $('#NumberStreet').val(),
                    ImageFile: $('#ImageFile').val(),
                    // Add other form field values
                };

                // Send the JSON data to the InsertPerson action
                $.ajax({
                    type: 'POST',
                    url: '/api/Person/InsertPerson',
                    data: JSON.stringify(formData),
                    contentType: 'application/json',
                    success: function() {
                        // Handle success response
                    },
                    error: function() {
                        // Handle error response
                    }
                });
            });
        });
    </script>
    }}